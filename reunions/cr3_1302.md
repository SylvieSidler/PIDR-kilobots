# Réunion n°3 du 13 février

On allume les kilobots avec le bouton rouge sur le bord. 

On peut brancher l'ordi au "disque" lumière pour communiquer avec les robots.
Pour cela on a également besoin de 
La commande kilogui lance l'outil permettant de communiquer avec les robots et télécharger le programme que l'on veu exécuter



on peut leur demander : reset, run, voltage, sleep

voltage -> couleur indiqe la batterie 
tester la réaction en coupant la llumière venant aux robots avec une feuille de papier 

programme avec print : pour le debug branqher un kilobit à l'ordi avec un cable 


Kilolib 
fonctions possibles décrites dans la doc : structures de données

# Possibilités de fonctionnalités 
## Calibration 
Si la puissance n'est pas équilibrée, les pattes n'ont pas le même profil. Or les pattes arrières doivent être légèrement incurvées pour avancer. 
On peut donc moduler les poids sur les puissance de moteurs pour recalibrer le kilobot.

Attention les kilobots sont fragiles,
attention à la surcharge pendant la charge : explosion de batterie 

Utiliser une mire (le damier) pour vérifier si des carrés sont bien vu comme des carrés.
permet égalemnt de voir si le niveau de lumière est similaire entre les 2 caméras pour le principe de l'image sticthing.

***


### /snapshot
[Python stream](https://docs.python.org/3/library/asyncio-stream.html)
bibli simple d'utilisation utilisant openCV
permettre de faire afficher une image de la caméra actuelle

### /status
demande le status d'un kilobot en particulier (a besoin de l'id)

### /position
renvoyer 

### /positionId


transformée de Hough pour détecter des cercles

*** 

Pour utiliser le programme, on le compile avec un Makefile qui produit 2 versions : 
- 1  version pour le simulateur qu'on peut fare tourner sur l'ordinateur
- 1 version .hex à télécharger et qui sera utilisée pour les kilobots 

Le fichier de config pour le simulateur : `make -p config` 
On a donc un affichage pour le debug mais lancer la simulation sans l'afichage permet d'exécuter plus vite.

bootload > upload 
Les kilobots clignotent en bleu jusqu'à ce qu'ils aient finis de télécharger le programme à exécuter.

Exemple avec les échanges de couleurs : bien choisir des couleurs facilement distinguable.


***

(1) faire un service en Python pour gérer la caméra 
pattern requete réponse 
Ex : un programme1 a besoin d'avoir la position de tous les robots --> demande à ce programme qui lui donne l'info d'après la capture caméra 
On n'a pas besoin d'avoir une architecture en parallèle complexe : juste besoin de recup des données. 

calibration : pixel = ?cm 
avoir l'équivalent de la pièce en TNI pour la déterminer 

Utiliser HTTP pour les requetes GET --> réponse json 
PB pour plus tard : déterminer quel robot 

etst lequel ? (il a quel id ?)

## affichage 
afficher à l'écran ce que voit la caméra
afficher la **trajectoire** d'un robot 
pas besoin d'identification de robot avec ce programme 

bibliotheque openCV (Python friendly), permet entre autre de faire de la détection dans une scène.

On peut aussi utiliser des bibliothèques de réseaux de neurones si on en trouve.
***
Un exemple de jeu de language : le naming game. 
Des processus/robots sont pairés 2 à 2 et emettent leur langage aux processus proche, écoutent, puis décident si ils gardent ou pas ce qu'ils ont entendu.
--> principe utilisé pour la démo de couleur

Ce qui doit émerger : 2 robots doivent donner le même mot pour une image donnée. Étude de l'émergence du langage.

Réalité augmentée --> necéssite de l'identification 
On peut enrichir les robots : ajouter du papier ou du carton sur le kilobot pour mieux les détecter, différencier ==> identifier

Envisageable : faire en sorte que les robots n'écoutent que si le message les concerne 

***

# TODO 
- Discuter avec l'autre groupe pour échanger des infos (travail ensemble ou conseils sur ce qui fonctionne ou pas)
- lire l'article sur les jeux de langages d'un pdv de la recherche
- faire le squelette pour répondre à des requetes GET 
- utiliser le terminal, ne pas faire que des play sur l'IDE
- lire la doc kilobot : pour téléguider, cibler l'information sur 1 robot par leur id, ...
***
# Prochaine réunion 

